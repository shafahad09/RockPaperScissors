<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Rock Paper Scissors</title>
</head>
<body>
    
    <script>
        
        function getComputerChoice() {

            let ans = Math.floor(Math.random() * 3);
            
            if(ans == 0) {
                // alert("Rock");
                return "Rock";
            }

            if(ans == 1) {
                // alert("Paper");
                return "Paper";
            }

            if(ans == 2) {
                // alert("Scissors");
                return "Scissors";
            }
        }

        // function getUserChoice() {

        //     let user_choice = prompt();
        // }

        function playRound (computerSelection, playerSelection) {

            if(computerSelection == playerSelection) {

                return "It's a tie.";
            }

            if(computerSelection == "Rock" && playerSelection == "Paper") {

                return "User Wins";
            }

            if(computerSelection == "Rock" && playerSelection == "Scissors") {

                return "Computer Wins";
            }

            if(computerSelection == "Paper" && playerSelection == "Rock") {

                return "Computer Wins";
            }

            if(computerSelection == "Paper" && playerSelection == "Scissors") {

                return "User Wins";
            }

            if(computerSelection == "Scissors" && playerSelection == "Paper") {

                return "Computer Wins";
            }

            if(computerSelection == "Scissors" && playerSelection == "Rock") {

                return "User Wins";
            }
        }

        const playerSelection = prompt("Rock, Paper, Scissors?", "");
        const computerSelection = getComputerChoice();
        
        let playerScore = 0;
        let computerScore = 0;

        // console.log(playRound(computerSelection, playerSelection));

        function game() {

            for(let i = 0; i < 5; i++){

                let winner = playRound(computerSelection, playerSelection);

                if(winner == "User Wins") [
                    playerScore = playerScore + 1
                ]
                if(winner == "Computer Winns") {
                    computerScore = computerScore + 1
                }
            }

            if(playerScore > computerScore) return "You Won";
            if(playerScore < computerScore) return "Computer Won";
            if(playerScore === computerScore) return "It's a tie";
        }

        console.log(game());
    </script>

</body>
</html>